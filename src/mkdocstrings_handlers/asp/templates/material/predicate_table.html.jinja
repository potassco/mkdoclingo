{% set not_defined_icon %}
<span style="color:#9178C600" title="Defined (input)"><span class="twemoji"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 15V9h8V4.16L19.84 12 12 19.84V15z"></path></svg></span></span>
{% endset %}

{% set defined_icon %}
<span style="color:#9178C6" title="Shown (Output)" class="twemoji">{{ ":material-arrow-right-bold:"|convert_markdown_simple(0) }}</span>
{% endset %}

{% set show_icon %}
<span style="color:#52BF54" title="Shown (Output)" class="twemoji">{{ ":material-eye:"|convert_markdown_simple(0) }}</span>
{% endset %}

{% set show_explicit_icon %}
<span style="color:#52BF54" title="Shown Explicitly (Output)" class="twemoji">{{ ":material-eye-plus:"|convert_markdown_simple(0) }}</span>
{% endset %}

{% set show_partial_icon %}
<span style="color:#52BF54" title="Shown Partially (Output)" class="twemoji">{{ ":material-eye-lock:"|convert_markdown_simple(0) }}</span>
{% endset %}

{% set hidden_icon %}
<span style="color:#838383" title="Hidden (Auxiliary)" class="twemoji">{{ ":material-eye-off:"|convert_markdown_simple(0) }}</span>
{% endset %}




{% set show_icon_map = {
    0: show_icon,
    1: show_explicit_icon,
    2: show_partial_icon,
    3: show_explicit_icon + show_partial_icon,
    4: hidden_icon
} %}

{% set input_icon_map = {
    0: not_defined_icon,
    1: defined_icon,
} %}

{% set table %}

<table>
    <thead>
        <tr>
            <th>Name</th>
            <th>Definition</th>
            <th>Type</th>
        </tr>
    </thead>
    <tbody>
    {% for entry in predicate_info.values() %}
        <tr>
            <td><a href="#{{ entry.identifier }}-{{ entry.arity }}"><code>{{ entry.signature }}</code></a></td>
            <td>
            {%- if entry.documentation %}
            {{ entry.documentation.description | convert_markdown(5, html_id) }}
            {% endif %}
            {# TODO: Here we could use AI to make a summary that is smaller than some length and only text #}
            </td>
            <td style="padding-top: 0; padding-bottom: 0;">
                {{show_icon_map[entry.show_status]}} {{input_icon_map[entry.is_input]}}
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

{% endset %}


{% set toc_label %}
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 4h14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2m0 4v4h6V8zm8 0v4h6V8zm-8 6v4h6v-4zm8 0v4h6v-4z"></path></svg>
    <span class="md-ellipsis" style="vertical-align: top;">Predicate Summary</span>
{% endset %}

{% filter heading(config.start_level+1, id="predicate_summary", toc_label=toc_label) %}
<span class="md-icon">{{ ":material-table:"|convert_markdown(3) }}</span> Predicate Summary
{% endfilter %}

{{ table }}
